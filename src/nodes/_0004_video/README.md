# VideoNode

MIDIイベントに反応してビジュアルエフェクトを生成する映像ノードです。

## 機能

- MIDIノートに反応してパーティクルエフェクトを生成
- リズムジェネレータからの同期信号で拍に合わせて映像を変化
- パーティクル、フラッシュ、拍動する円などの視覚効果を表示
- Pyxelのグラフィック機能を使用した160x120ピクセルの映像出力

## 使用方法

1. リズムジェネレータ（RhythmGeneratorNode）が起動していることを確認
2. このノードを起動：

```bash
python -m src.nodes._0004_video.video_node
```

## 入力

- MIDIクロック：リズムジェネレータからの同期信号
- MIDIノート：
  - ノートオン：パーティクルエフェクトを生成
  - ベロシティ：エフェクトの強度に影響
  - ノート番号：パーティクルの色を決定

## 視覚効果

- パーティクル：
  - MIDIノート入力時に中心から放射状に発生
  - 重力の影響を受けて落下
  - ノート番号に応じて色が変化
  - ベロシティに応じて数と速度が変化

- フラッシュ：
  - MIDIノート入力時に中心から広がる輝き
  - ベロシティに応じて強度が変化

- 拍動する円：
  - 画面中央に表示
  - リズムに合わせて拡大縮小
  - 4分音符ごとに色が変化

## 設定

- ウィンドウサイズ：160x120ピクセル
- 色：Pyxelのパレット（0-15）を使用
- フレームレート：30fps（Pyxelのデフォルト）